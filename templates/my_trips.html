{% extends "base.html" %}

{% block content %}
<div style="max-width: 1000px; margin: 0 auto;">
  <div
    style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 3rem; flex-wrap: wrap; gap: 1rem;">
    <h1 style="font-size: 2.5rem;">My Saved Trips</h1>
    <a href="{{ url_for('generate_trip') }}" class="btn btn-primary">
      <i class="fas fa-plus"></i> New Trip
    </a>
  </div>

  {% if not trips %}
  <div class="card" style="text-align: center; padding: 5rem 2rem;">
    <div style="font-size: 4rem; color: var(--gray-200); margin-bottom: 2rem;">
      <i class="fas fa-suitcase-rolling"></i>
    </div>
    <h2 style="font-size: 1.75rem; margin-bottom: 1rem;">No trips saved yet</h2>
    <p style="color: var(--gray-500); margin-bottom: 2.5rem; max-width: 400px; margin-left: auto; margin-right: auto;">
      Currently your travel collection is empty. Let's start by planning an amazing getaway!
    </p>
    <a href="{{ url_for('generate_trip') }}" class="btn btn-primary" style="padding: 1rem 3rem;">
      <i class="fas fa-magic"></i> Plan My First Trip
    </a>
  </div>
  {% else %}
  <div style="display: grid; grid-template-columns: repeat(auto-fill, minmax(300px, 1fr)); gap: 2rem;">
    {% for trip in trips %}
    <div class="card" style="padding: 0; overflow: hidden; display: flex; flex-direction: column;">
      <div
        style="height: 160px; background: linear-gradient(135deg, var(--primary) 0%, #1d4ed8 100%); display: flex; align-items: center; justify-content: center; position: relative;">
        <i class="fas fa-map-marked-alt" style="font-size: 4rem; color: rgba(255, 255, 255, 0.2);"></i>
        <div style="position: absolute; bottom: 1rem; left: 1.5rem; color: var(--white);">
          <span
            style="background: rgba(255, 255, 255, 0.2); backdrop-filter: blur(4px); padding: 0.25rem 0.75rem; border-radius: 2rem; font-size: 0.75rem; font-weight: 600; text-transform: uppercase; letter-spacing: 0.05em;">
            {{ trip.budget }}
          </span>
        </div>
      </div>
      <div style="padding: 1.5rem; flex: 1; display: flex; flex-direction: column;">
        <h2 style="font-size: 1.25rem; margin-bottom: 0.5rem; color: var(--gray-900);">{{ trip.city }}</h2>
        <p style="color: var(--gray-500); font-size: 0.9rem; margin-bottom: 1.5rem;">{{ trip.days }} day {{
          trip.group_type|lower }} excursion</p>

        <div
          style="margin-top: auto; display: flex; align-items: center; justify-content: space-between; padding-top: 1.5rem; border-top: 1px solid var(--gray-100);">
          <span style="color: var(--gray-400); font-size: 0.8rem;">
            <i class="far fa-calendar-alt" style="margin-right: 0.3rem;"></i>
            {{ trip.created_at|datetimeformat('%b %d, %Y') }}
          </span>
          <div style="display: flex; gap: 0.75rem;">
            <a href="{{ url_for('view_trip', trip_id=loop.index0) }}" class="btn"
              style="padding: 0.5rem; background: var(--gray-100); color: var(--primary); min-width: 38px;"
              title="View Itinerary">
              <i class="fas fa-eye"></i>
            </a>
            <a href="{{ url_for('edit_trip', trip_id=loop.index0) }}" class="btn"
              style="padding: 0.5rem; background: var(--gray-100); color: var(--secondary); min-width: 38px;"
              title="Edit Details">
              <i class="fas fa-pen"></i>
            </a>
            <a href="{{ url_for('delete_trip', trip_id=loop.index0) }}" class="btn btn-delete"
              style="padding: 0.5rem; background: #fee2e2; color: var(--danger); min-width: 38px;" title="Delete Trip">
              <i class="fas fa-trash-alt"></i>
            </a>
          </div>
        </div>
      </div>
    </div>
    {% endfor %}
  </div>
  {% endif %}
</div>
{% endblock %}